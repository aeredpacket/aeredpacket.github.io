import{_ as ge,r as k,o as d,c as C,w as m,a as n,t as l,b as w,d as X,F as Z,e as g,u as v,f as De,g as c,h as Le,i as Ie,B as f,j as nt,k as ot,l as lt,m as st,n as u,p as it,q as oe,s as ct,v as ut,x as O,y as re,T as y,z as rt,A as P,E as dt,C as mt,D as vt,G as ft,H as ht,I as Pe,J as pt,K as kt}from"./index.40bf1fc0.js";import{_,d as U}from"./dayjs.min.42dc7e94.js";const gt={class:"title"},yt={class:"body"},wt={class:"status-text"},bt={key:0},Ct={key:1},$t={key:2},_t={key:3},St={class:"status-icon"},At={class:"tx"},Tt={key:1,class:"trade-hash"},Ft={__name:"ChainTrade",props:{tradeVisable:{type:Boolean,default:!1},status:{type:Number,default:0},tradeHash:{type:String,default:""},message:{type:String,default:""}},emits:["update:tradeVisable"],setup(r,{emit:W}){return(o,s)=>{const b=k("van-loading"),q=k("van-icon"),G=k("van-popup");return d(),C(G,{class:"dialog",show:r.tradeVisable,"onUpdate:show":s[1]||(s[1]=T=>Ie(tradeVisable)?tradeVisable.value=T:null),round:"","close-on-click-overlay":!1},{default:m(()=>[n("div",gt,l(o.$t("transactionDetails")),1),n("div",yt,[n("div",wt,[r.status!=0?(d(),w(Z,{key:0},[r.status==1?(d(),w("div",bt,l(o.$t("sendingTransactionToBlockchain")),1)):r.status==2?(d(),w("div",Ct,l(o.$t("waitingForServiceSyncronizing")),1)):r.status==-1?(d(),w("div",$t,l(r.message?r.message:o.$t("sendTransactionToBlockchainFailed")),1)):r.status==-2?(d(),w("div",_t,l(o.$t("servicesyncronizingTimeout")),1)):X("",!0)],64)):X("",!0)]),n("div",St,[r.status==1||r.status==2?(d(),C(b,{key:0,type:"spinner",size:"48px"})):r.status==0?(d(),C(q,{key:1,color:"#07c160",size:"40px",name:"checked"})):r.status==-1||r.status==-2?(d(),C(q,{key:2,color:"#FA5151",size:"40px",name:"clear"})):X("",!0)]),r.tradeHash?(d(),w("div",{key:0,class:"trade-hash",onClick:s[0]||(s[0]=T=>v(Le)(r.tradeHash))},[g(l(o.$t("txHash"))+": ",1),n("span",At,l(v(De)(r.tradeHash)),1),c(_,{name:"copy"})])):(d(),w("div",Tt,l(o.$t("txHash"))+": N/A",1))])]),_:1},8,["show"])}}},Pt=ge(Ft,[["__scopeId","data-v-043773a9"]]);const Dt={class:"confirm-main"},Lt={class:"title"},It={class:"content"},Vt={class:"content-item"},Bt={class:"item-title"},Nt={class:"item-content"},Ut={class:"content-item"},Et={class:"item-title"},xt={class:"item-content"},qt={class:"content-item"},Gt={class:"item-title"},Ht={class:"item-content"},zt={class:"content-item"},Wt={class:"item-title"},Rt={class:"item-content"},Mt={class:"content-item"},jt={class:"item-title"},Yt={class:"item-content"},Qt={__name:"CreateConfirm",props:{close:{type:Function,default:()=>{}},visable:{type:Boolean,default:!1},kind:{type:Number,default:0},gas:{type:String,default:""},serviceFee:{type:String,default:""},quantity:{type:Number,default:0},totalAmount:{type:Number,default:0},symbol:{type:String,default:""},tokenIcon:{type:String,default:""},chainCoinSymbol:{type:String,default:""}},emits:["update:visable","confirm"],setup(r,{emit:W}){function o(){W("confirm")}function s(){W("update:visable",!1)}return(b,q)=>{const G=k("van-icon"),T=k("van-button"),D=k("van-popup");return d(),C(D,{show:r.visable,round:"","close-on-click-overlay":!1,closeable:"",onClose:s},{default:m(()=>[n("div",Dt,[n("div",Lt,l(b.$t("redPacketConfirm")),1),n("ul",It,[n("li",Vt,[n("div",Bt,l(b.$t("redPacketKind")),1),n("div",Nt,[r.kind==0?(d(),w(Z,{key:0},[c(_,{name:"pin"}),g(" "+l(b.$t("randomAmount")),1)],64)):(d(),w(Z,{key:1},[c(_,{name:"pu"}),g(" "+l(b.$t("identicalAmount")),1)],64))])]),n("li",Ut,[n("div",Et,l(b.$t("redPacketQuantity")),1),n("div",xt,l(r.quantity),1)]),n("li",qt,[n("div",Gt,l(b.$t("tokenQuantity")),1),n("div",Ht,[r.tokenIcon?(d(),C(G,{key:0,class:"chain-icon",name:r.tokenIcon},null,8,["name"])):X("",!0),g(" "+l(r.totalAmount+" "+r.symbol),1)])]),n("li",zt,[n("div",Wt,l(b.$t("estimateGas")),1),n("div",Rt,l(`${v(f)(v(f)(r.gas).toFixed(12)).toString()} ${r.chainCoinSymbol}`),1)]),n("li",Mt,[n("div",jt,l(b.$t("serviceFee")),1),n("div",Yt,l(`${r.serviceFee} ${r.chainCoinSymbol}`),1)])]),c(T,{class:"confirm",onClick:o},{default:m(()=>[g(l(b.$t("confirmAndSubmit")),1)]),_:1})])]),_:1},8,["show"])}}},Jt=ge(Qt,[["__scopeId","data-v-18edadb6"]]);const Kt=r=>(pt("data-v-453faf44"),r=r(),kt(),r),Ot={class:"body"},Xt={class:"tools-bar"},Zt={class:"address-text"},ea={style:{"margin-left":"4px"}},ta={class:"tools"},aa={class:"token-box"},na={key:2,class:"amount"},oa={style:{"margin-left":"4px"}},la=Kt(()=>n("svg",{class:"icon","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-redPacket"})],-1)),sa={class:"form-item address-ipt"},ia={class:"title"},ca={class:"index"},ua={class:"content"},ra={class:"form-item total-amount"},da={class:"form-item create"},ma={class:"content"},va={class:"content"},fa={class:"success-icon"},ha={class:"title"},pa={class:"text"},ka={class:"btn"},ga={class:"content"},ya={class:"title"},wa={class:"content"},ba={__name:"Index",setup(r){const W=nt(),o=ot(),{t:s}=lt(),b=st("global"),q=u(!1),G=u(!1),T=u(!1),D=u(0),H=u(""),R=u(""),E=u(""),le=u(""),Ve=u(""),ye=u(null),M=u(""),z=u(600);u(0),u(0);const t=it({kind:0,totalAmount:0,quantity:0,deadline:0,startTime:0,profilePicture:null,title:"",remark:"",tokenChain:"",tokenAddress:"",tokenSymbol:"",tokenIcon:"",chainCoinSymbol:"",whiteList:[],amount:f(0),minFee:f(0),baseFee:f(0),gasPrice:f(0),serviceFee:f(0),lockGasLimit:f(0),showGas:"",lockGasAmount:f(0),showServiceFee:"",allFee:f(0),walletAddress:"",redPacketContractAddress:"",redPacketContract:null}),ee=u(!1);console.log(o.chainId);function de(){return D.value==0?H.value?f(Number(H.value)).toNumber():0:R.value&&E.value?f(Number(R.value)).multipliedBy(Number(E.value)).toNumber():0}const Be=oe(()=>{let e=de();return e||"0.00"}),F=u(!1),L=u(0),j=u(""),me=u(""),te=u(!1),se=u(!1),ve=u(""),fe=u(!1),Ne=oe(()=>[{name:s("languages.zh-cn"),value:"zh-cn",color:o.language==="zh-cn"?"#3F80F7":"#323233"},{name:s("languages.en"),value:"en",color:o.language==="en"?"#3F80F7":"#323233"}]);function Ue(e){o.setLanguage(e.value)}const ae=u(!1),ne=u(!1),Ee=oe(()=>[{text:s("deadlineList.300"),value:300},{text:s("deadlineList.600"),value:600},{text:s("deadlineList.1800"),value:1800},{text:s("deadlineList.3600"),value:3600},{text:s("deadlineList.43200"),value:43200},{text:s("deadlineList.86400"),value:86400},{text:s("deadlineList.172800"),value:172800},{text:s("deadlineList.259200"),value:259200}]),he=oe(()=>s("deadlineList."+z.value));function xe(e){z.value=e.value,ne.value=!1}async function we(){await o.connectWallet()}function be(){return b.cfg.allowChainList.map(a=>a.chainId).includes(o.chainId)?!0:(fe.value=!0,!1)}async function qe(){F.value=!1,j.value="",L.value=1,F.value=!0;try{let e=await O.wallet.approveMaxAmount(o.token.address,o.redPacketContractAddress);console.log(e),j.value=e.hash,await e.wait(),T.value=!1,L.value=0}catch(e){console.log(e),L.value=-1,await re(2e3)}finally{F.value=!1}}async function Ce(){await O.wallet.isAllowanceEnough(o.redPacketContractAddress,o.token.address,o.walletAddress)?T.value=!1:T.value=!0}async function Ge(){te.value=!0,F.value=!1,j.value="",se.value=!1,ve.value="",ee.value=!1;try{if(!o.token){y.fail(s("pleaseSelectToken"));return}if(D.value==0){if(!H.value){y.fail(s("pleaseEnterTotalAmount"));return}if(1e-6*Number(E.value)>Number(H.value)){y.fail(s("pleaseEnsure"));return}}else if(!R.value){y.fail(s("pleaseEnterSingleAmount"));return}if(!E.value){y.fail(s("pleaseEnterQuantity"));return}if(Q.value){if(I.value<=new Date){y.fail(s("lessThanCurrent"));return}if(I.value>U().add(z.value,"second").toDate()){y.fail(s("greaterThanDeadline"));return}}let e=de();if(M.value||(M.value=s("bestWishes")),await o.connectWallet(),!be())return;let h=b.cfg.allowChainList.find(p=>p.chain==o.token.chain);if(!h){y.fail(s("tokenChainNotSupport"));return}if(o.chainId!=h.chainId){y.fail(s("switchTokenChain"));return}if(e>o.token.amount){y.fail(s("blanceSlow"));return}if(await Ce(),T.value){y.fail(s("approveFirst"));return}await He()}catch(e){console.dir(e),y.fail(s("unknowError"))}finally{te.value=!1}}async function He(){console.log("createRedPacket"),t.kind=D.value,t.totalAmount=de(),t.quantity=Number(E.value),t.deadline=z.value,t.startTime=Q.value?U(I.value).unix():0,t.profilePicture=ye.value,t.title=le.value,t.remark=M.value,t.tokenChain=o.token.chain,t.tokenAddress=o.token.address,t.tokenSymbol=o.token.symbol,t.chainCoinSymbol=o.token.chainCoinSymbol,t.tokenIcon=o.token.icon,t.amount=f(0),t.minFee=f(0),t.baseFee=f(0),t.gasPrice=f(0),t.serviceFee=f(0),t.showGas="",t.showServiceFee="",t.lockGasLimit=f(0),t.lockGasAmount=f(0),t.allFee=f(0),t.walletAddress=o.walletAddress,t.redPacketContractAddress=o.redPacketContractAddress,t.redPacketContract=null,t.whiteList=Y.value;const e=O.wallet.getEthersProvider(),a=O.wallet.contractByProvider(e,t.redPacketContractAddress,rt);t.redPacketContract=a;const h=await a.minFee();console.log("minFee"),console.log(P(h)),t.minFee=h;const p=await a.baseFee();console.log("baseFee"),console.log(P(p)),t.baseFee=p;const S=await O.wallet.contractByProvider(e,t.tokenAddress,dt).decimals();console.log("decimals"),console.log(S),t.amount=mt(t.totalAmount.toString(),S),console.log(P(t.amount));let J=[],$=[],A=0;for(let N=0;N<t.quantity;N++)J.push("0x60f5D34F9D419fC274C84d477Ea2E6051bA7cd16"),t.kind==0&&$.push(t.amount.div(t.quantity).toString());t.kind==1&&(A=t.amount.div(t.quantity).toString());const ce=await a.estimateGas.estimateUnlock(0,J,$,A,t.tokenAddress,t.amount.toString(),t.kind);console.log("estimateUnlockGas"),console.log(P(ce));const K=await e.getGasPrice();console.log("gasPrice"),console.log(P(K));const ue=ce.mul(K),V=ue.mul(2).add(p).gt(h)?ue.mul(2).add(p):h;t.showServiceFee=P(V).toString(),console.log("serviceFee"),console.log(P(V)),t.serviceFee=V;let B;try{B=(await a.estimateGas.lock(t.walletAddress,t.tokenAddress,t.amount.toString(),t.deadline,t.quantity,t.kind,{value:V.toString()})).mul(2)}catch(N){if(N.data.code==-32e3){const i=N.data.message.match(/(\d+) want (\d+)/)[2];y.fail(s("balanceSlow",{chainMianCoin:o.token.chainCoinSymbol,amount:P(i)}))}throw console.dir(N),N}console.log("gasLimit"),console.log(P(B)),t.gasLimit=B,t.showGas=P(B.mul(K)).toString(),ee.value=!0}async function ze(){ee.value=!1,L.value=1,F.value=!0;let e;if(t.startTime){if(t.startTime<=U().unix()){y.fail(s("lessThanCurrent"));return}if(t.startTime>U().add(t.deadline,"second").unix()){y.fail(s("greaterThanDeadline"));return}}try{let a=await t.redPacketContract.lock(t.walletAddress,t.tokenAddress,t.amount.toString(),t.deadline,t.quantity,t.kind,{value:t.serviceFee.toString(),gasLimit:t.gasLimit.toString()});console.dir(a),j.value=a.hash,e=await a.wait(),console.dir(e),j.value=e.transactionHash}catch(a){console.dir(a),a.code=="ACTION_REJECTED"&&(me.value=s("actionRejected")),L.value=-1,await re(1e3),F.value=!1,me.value="",te.value=!1;return}L.value=2;try{let a=e==null?void 0:e.events,h={};for(let S=a.length-1;S>=0;S--){let J=a[S].topics.some($=>$==="0x694af1cc8727cdd0afbdd53d9b87b69248bd490224e9dd090e788546506e076f");if(a[S].address==o.redPacketContractAddress&&J){h=a[S];break}}let p=await O.redPacket.send(t.tokenAddress,t.tokenChain,h.topics[1],e.transactionHash,t.deadline,t.startTime,t.profilePicture,t.remark,t.tokenSymbol,t.title,t.whiteList);console.dir(p),L.value=0,await re(500),F.value=!1;const x=p.data.uuid;se.value=!0,ve.value=window.location.origin+"/#/redpacket/"+x}catch(a){console.dir(a),L.value=-1,await re(1e3),F.value=!1,te.value=!1}}function We(){D.value=0,H.value="",R.value="",E.value="",le.value="",Ve.value="",ye.value=null,M.value="",z.value=600,o.token=null}const $e=b.cfg.allowChainList.map(e=>e.chainShow);function _e(e){const a=b.cfg.allowChainList.find(p=>p.chainId==e);let h;return a?h=a.chain:h=null,h}function Re(){W.push("/selectToken")}function Se(e){return console.log(e),e&&e.replace("-","").replace(/^(.*\..{6}).*$/,"$1")}function Me(){vt.confirm({title:s("tips"),message:s("disonnectWallet"),confirmButtonText:s("confirm"),cancelButtonText:s("cancel")}).then(()=>{o.disconnectWallet()}).catch(()=>{})}function je(e){return e&&(Number(e)>=1e3?"1000":e)}ct(()=>{console.log("onMounted"),o.chainId>0&&(be(),o.isConnectWallet&&o.token&&Ce())});const pe=u(!1),ie=u(""),Y=u([]);function Ye(e){console.log("onPasteCapture"),e.target.value=e.target.value+e.clipboardData.getData("text"),e.target.blur()}function Qe(e){console.log("onBlurCapture"),console.log(e.target.value),Ke(e.target.value),ke.value=!1}const ke=u(!1),Ae=u(null);function Je(){ke.value=!0,ft(()=>{Ae.value.focus()})}function Ke(e){const a=/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/;let h=e.replace(/\s+/ig," ").trim();if(h){let p=h.split(" ");if(p.length>500){y.fail(s("supportMax"));return}for(let x=0;x<p.length;x++)if(!a.test(p[x])){y.fail(s("pleaseEnterRightFormat"));return}Y.value=Array.from(new Set(p)),ie.value=Y.value.join(" ")}else Y.value=[],ie.value=""}function Oe(){Y.value=[],ie.value=""}const Q=u(!1),I=u(new Date),Te=u(I.value),Fe=u(U(I.value).add(z.value,"second").toDate()),Xe=oe(()=>Q.value?U(I.value).format("YYYY-MM-DD HH:mm"):s("settingTime"));function Ze(){const e=new Date;Q.value==!1&&(I.value=U(e).add(1,"minute").toDate()),Te.value=U(e).add(1,"minute").toDate(),Fe.value=U(e).add(z.value,"second").toDate(),ae.value=!0}function et(e){Q.value=!0,I.value=e,ae.value=!1}function tt(){Q.value=!1,ae.value=!1}return(e,a)=>{const h=k("van-icon"),p=k("van-radio"),x=k("van-radio-group"),S=k("van-image"),J=k("van-cell"),$=k("van-cell-group"),A=k("van-field"),ce=k("van-picker"),K=k("van-popup"),ue=k("van-datetime-picker"),V=k("van-button"),B=k("van-dialog"),N=k("van-action-sheet");return d(),w(Z,null,[n("div",Ot,[n("div",Xt,[v(o).isConnectWallet?(d(),w("div",{key:0,class:"address",onClick:Me},[_e(v(o).chainId)?(d(),C(h,{key:0,class:"chain-icon",name:v(ht)(_e(v(o).chainId))},null,8,["name"])):(d(),C(_,{key:1,class:"chain-icon",name:"wallet"})),n("div",Zt,l(v(De)(v(o).walletAddress)),1)])):(d(),w("div",{key:1,class:"address",onClick:we},[c(_,{name:"wallet"}),n("div",ea,l(e.$t("pleaseConnectWallet")),1)])),n("div",ta,[c(_,{name:"language",onClick:a[0]||(a[0]=i=>G.value=!0)}),c(_,{name:"help",onClick:a[1]||(a[1]=i=>q.value=!0)})])]),c(x,{modelValue:D.value,"onUpdate:modelValue":a[2]||(a[2]=i=>D.value=i),direction:"horizontal",class:"type form-item"},{default:m(()=>[c(p,{name:0,"checked-color":"#ED4A4A","icon-size":"16px"},{default:m(()=>[g(l(e.$t("randomAmount")),1)]),_:1}),c(p,{name:1,"checked-color":"#ED4A4A","icon-size":"16px"},{default:m(()=>[g(l(e.$t("identicalAmount")),1)]),_:1})]),_:1},8,["modelValue"]),c($,{inset:"",class:"form-item form-normal"},{default:m(()=>[c(J,{title:e.$t("token"),"is-link":"",onClick:Re},Pe({_:2},[v(o).token?{name:"value",fn:m(()=>[n("div",aa,[v(o).token.icon?(d(),C(S,{key:0,class:"token-icon",round:"",src:v(o).token.icon,"error-icon":"/assets/images/default.png"},null,8,["src"])):X("",!0),g(" "+l(v(o).token.symbol),1)])]),key:"0"}:void 0]),1032,["title"])]),_:1}),D.value==0?(d(),C($,{key:0,inset:"",class:"form-item form-normal"},{default:m(()=>[c(A,{label:e.$t("totalAmount"),"input-align":"right",formatter:Se,maxlength:"10",placeholder:e.$t("enterAmount"),type:"number",modelValue:H.value,"onUpdate:modelValue":a[3]||(a[3]=i=>H.value=i)},{"left-icon":m(()=>[c(_,{name:"pin"})]),_:1},8,["label","placeholder","modelValue"])]),_:1})):(d(),C($,{key:1,inset:"",class:"form-item form-normal"},{default:m(()=>[c(A,{label:e.$t("singleAmount"),"label-width":"7em","input-align":"right",formatter:Se,maxlength:"10",placeholder:e.$t("enterAmount"),type:"number",modelValue:R.value,"onUpdate:modelValue":a[4]||(a[4]=i=>R.value=i)},{"left-icon":m(()=>[c(_,{name:"pu"})]),_:1},8,["label","placeholder","modelValue"])]),_:1})),v(o).token?(d(),w("div",na,[g(l(e.$t("availableBalance")),1),n("span",oa,l(v(o).token.amount+" "+v(o).token.symbol),1)])):X("",!0),c($,{inset:"",class:"form-item form-normal"},{default:m(()=>[c(A,{label:e.$t("quantity"),"input-align":"right",placeholder:e.$t("enterNumber"),type:"digit",maxlength:"4",formatter:je,modelValue:E.value,"onUpdate:modelValue":a[5]||(a[5]=i=>E.value=i)},Pe({"left-icon":m(()=>[la]),_:2},[v(o).language=="zh-cn"?{name:"right-icon",fn:m(()=>[g("\u4E2A")]),key:"0"}:void 0]),1032,["label","placeholder","modelValue"])]),_:1}),c($,{inset:"",class:"form-item form-normal"},{default:m(()=>[c(A,{modelValue:v(he),"onUpdate:modelValue":a[6]||(a[6]=i=>Ie(he)?he.value=i:null),"is-link":"",readonly:"",name:"picker",label:e.$t("deadline"),onClick:a[7]||(a[7]=i=>ne.value=!0),"input-align":"right"},null,8,["modelValue","label"]),c(K,{show:ne.value,"onUpdate:show":a[9]||(a[9]=i=>ne.value=i),position:"bottom"},{default:m(()=>[c(ce,{columns:v(Ee),onCancel:a[8]||(a[8]=i=>ne.value=!1),onConfirm:xe,title:e.$t("settingDeadline"),"confirm-button-text":e.$t("confirm"),"cancel-button-text":e.$t("cancel")},null,8,["columns","title","confirm-button-text","cancel-button-text"])]),_:1},8,["show"])]),_:1}),c($,{inset:"",class:"form-item form-normal"},{default:m(()=>[c(A,{"model-value":v(Xe),"is-link":"",readonly:"",name:"picker","label-width":"10em",label:e.$t("startTime"),onClick:Ze,"input-align":"right"},null,8,["model-value","label"]),c(K,{show:ae.value,"onUpdate:show":a[10]||(a[10]=i=>ae.value=i),position:"bottom"},{default:m(()=>[c(ue,{"model-value":I.value,type:"datetime",title:e.$t("settingTime"),"min-date":Te.value,"max-date":Fe.value,"confirm-button-text":e.$t("setting"),"cancel-button-text":e.$t("noSetting"),onCancel:tt,onConfirm:et},null,8,["model-value","title","min-date","max-date","confirm-button-text","cancel-button-text"])]),_:1},8,["show"])]),_:1}),n("div",sa,[n("div",ia,[n("div",null,[g(l(e.$t("settingWhiteList"))+" ",1),c(_,{name:"info",onClick:a[11]||(a[11]=i=>pe.value=!0)})]),n("div",{class:"title-right",onClick:Oe},[n("div",null,[c(_,{name:"clear"}),g(" "+l(e.$t("clear")),1)])])]),ke.value?(d(),C(A,{key:0,class:"ipt","model-value":ie.value,onPasteCapture:Ye,type:"textarea",onBlurCapture:Qe,ref_key:"ipt",ref:Ae},null,8,["model-value"])):(d(),w("ul",{key:1,class:"table",onClick:Je},[(d(!0),w(Z,null,ut(Y.value,(i,at)=>(d(),w("li",null,[n("div",ca,l(at+1),1),n("div",ua,l(i),1)]))),256))]))]),c($,{inset:"",class:"form-item"},{default:m(()=>[c(A,{modelValue:M.value,"onUpdate:modelValue":a[12]||(a[12]=i=>M.value=i),rows:"1",autosize:"",type:"textarea",maxlength:"20",placeholder:e.$t("bestWishes"),"show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1}),c($,{inset:"",class:"form-item"},{default:m(()=>[c(A,{modelValue:le.value,"onUpdate:modelValue":a[13]||(a[13]=i=>le.value=i),rows:"2",autosize:"",type:"textarea",maxlength:"500",placeholder:e.$t("ActivityDescription")},null,8,["modelValue","placeholder"])]),_:1}),n("div",ra,[g(l(e.$t("redPacketTotalAmount")),1),n("span",null,l(v(Be)),1),g(l(v(o).token?v(o).token.symbol:""),1)]),n("div",da,[v(o).isConnectWallet?(d(),w(Z,{key:0},[T.value?(d(),C(V,{key:0,class:"create-btn",type:"danger",onClick:qe},{default:m(()=>[g(l(e.$t("approve")),1)]),_:1})):(d(),C(V,{key:1,class:"create-btn",type:"danger",onClick:Ge,loading:te.value},{default:m(()=>[g(l(e.$t("createRedPacketBtn")),1)]),_:1},8,["loading"]))],64)):(d(),C(V,{key:1,class:"create-btn",type:"primary",onClick:we},{default:m(()=>[g(l(e.$t("connectWallet")),1)]),_:1}))]),n("div",{class:"form-item history",onClick:a[14]||(a[14]=i=>v(W).push("/history"))},l(e.$t("redPacketHistory")),1)]),c(B,{class:"help-dialog",show:q.value,"onUpdate:show":a[15]||(a[15]=i=>q.value=i),title:e.$t("rulesDescription"),"confirm-button-text":e.$t("understand"),"close-on-click-overlay":""},{default:m(()=>[n("div",ma,[n("div",null,l(e.$t("rulesDescription1")),1),n("div",null,l(e.$t("rulesDescription2")),1),n("div",null,l(e.$t("rulesDescription3")),1),n("div",null,l(e.$t("rulesDescription4")),1),n("div",null,l(e.$t("rulesDescription5",{chains:v($e).join("/")})),1),n("div",null,l(e.$t("rulesDescription6")),1)])]),_:1},8,["show","title","confirm-button-text"]),c(B,{class:"create-success-dialog",show:se.value,"onUpdate:show":a[17]||(a[17]=i=>se.value=i),onClose:We,"close-on-click-overlay":""},{footer:m(()=>[n("div",ka,[c(V,{class:"copy-btn",type:"primary",onClick:a[16]||(a[16]=i=>v(Le)(ve.value))},{default:m(()=>[g(l(e.$t("copyLink")),1)]),_:1})])]),default:m(()=>[n("div",va,[n("div",fa,[c(_,{name:"createSuccess"})]),n("div",ha,l(e.$t("createRedPacketSuccess")),1),n("div",pa,l(e.$t("shareLink")),1)])]),_:1},8,["show"]),c(N,{show:G.value,"onUpdate:show":a[18]||(a[18]=i=>G.value=i),title:e.$t("switchLang"),actions:v(Ne),closeable:!1,"cancel-text":e.$t("cancel"),"close-on-click-action":"",onSelect:Ue},null,8,["show","title","actions","cancel-text"]),c(Pt,{tradeVisable:F.value,"onUpdate:tradeVisable":a[19]||(a[19]=i=>F.value=i),status:L.value,tradeHash:j.value,message:me.value},null,8,["tradeVisable","status","tradeHash","message"]),c(B,{class:"chain-err-dialog",confirmButtonText:e.$t("understand"),confirmButtonColor:"#3F80F7",show:fe.value,"onUpdate:show":a[20]||(a[20]=i=>fe.value=i)},{default:m(()=>[n("div",ga,[n("div",null,l(e.$t("notSupportedChain")),1),n("div",null,l(e.$t("pleaseSwitchTo",{chains:v($e).join("\u3001")})),1)])]),_:1},8,["confirmButtonText","show"]),c(B,{class:"copy-address-dialog",confirmButtonText:e.$t("understand"),confirmButtonColor:"#3F80F7",show:pe.value,"onUpdate:show":a[21]||(a[21]=i=>pe.value=i)},{default:m(()=>[n("div",ya,l(e.$t("copyAddress")),1),n("div",wa,[n("div",null,l(e.$t("copyAddressTips")),1)])]),_:1},8,["confirmButtonText","show"]),c(Jt,{visable:ee.value,"onUpdate:visable":a[22]||(a[22]=i=>ee.value=i),kind:t.kind,quantity:t.quantity,totalAmount:t.totalAmount,symbol:t.tokenSymbol,tokenIcon:t.tokenIcon,gas:t.showGas,serviceFee:t.showServiceFee,chainCoinSymbol:t.chainCoinSymbol,onConfirm:ze},null,8,["visable","kind","quantity","totalAmount","symbol","tokenIcon","gas","serviceFee","chainCoinSymbol"])],64)}}},_a=ge(ba,[["__scopeId","data-v-453faf44"]]);export{_a as default};
