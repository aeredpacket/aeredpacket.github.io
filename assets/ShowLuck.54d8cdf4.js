import{_ as m}from"./SvgIcon.35a27e4d.js";import{T,d as f}from"./dayjs.min.72396b32.js";import{_ as A}from"./plugin-vueexport-helper.2444895f.js";import{r as _,o as a,b as c,c as l,Q as I,a as o,t as s,j as L,k as Y,n as V,E as H,u as e,d as r,e as u,g as v,w as p,G as N,f as g,F as j,z as x,h as B,C as M,D as z}from"./index.30f68317.js";import{u as E}from"./redPacketStore.df0710d3.js";const F={class:"avatar"},U={__name:"Avatar",props:{image:{type:String,default:""},address:{type:String,default:""}},setup(d){return(y,k)=>{const t=_("van-image");return a(),c("div",F,[d.image?(a(),l(t,{key:0,class:"img",round:"","lazy-load":"","show-loading":"",width:"100%",height:"100%",src:d.image,"error-icon":"/assets/images/groupAvatar.png"},null,8,["src"])):(a(),c("div",{key:1,class:"avatar-text",style:I({backgroundColor:"#"+d.address.slice(-6)})},[o("div",null,s(d.address.slice(-2).toUpperCase()),1)],4))])}}},G=A(U,[["__scopeId","data-v-75952dc2"]]);const O=d=>(M("data-v-4d215cfa"),d=d(),z(),d),Q={class:"body"},q={class:"top"},J={class:"info"},K=O(()=>o("div",{class:"empty"},null,-1)),W={class:"background"},X={class:"coin-logo"},Z={class:"coin"},ee={class:"from"},te={class:"congratulation"},se={key:0,class:"amount"},oe={class:"center"},ae={class:"info"},ne={class:"text"},ce={class:"item-left"},de={class:"left-content"},ie={key:0,class:"mine",type:"primary"},re={class:"time"},le={class:"item-right"},ue={key:0,class:"best-luck"},_e={class:"bottom"},me={key:0,class:"tips"},ve={key:0},pe={class:"id"},ye={__name:"ShowLuck",setup(d){const y=L(),k=Y(),t=E();V([]);function C(){const n="/RedPacket/"+t.uuid+"/activityDetail";y.push(n)}function b(){const n="/RedPacket/"+t.uuid;y.push(n)}async function w(){return 111}return w(),H(()=>k.walletAddress,async(n,h)=>{console.log("newVal:"+n),t.getRedPacketDetail()}),t.getRedPacketDetail(),(n,h)=>{const S=_("van-icon"),$=_("van-empty"),D=_("van-cell"),P=_("van-list"),R=_("van-button");return a(),c("div",Q,[o("div",q,[o("div",J,[K,o("div",W,[o("div",X,[e(t).contractChain?(a(),l(T,{key:0,tokenIcon:e(N)(e(t).contractChain.toLowerCase(),e(t).contractAddress.toLowerCase())},null,8,["tokenIcon"])):r("",!0)])]),o("div",Z,s(e(t).symbol),1),o("div",ee,[e(t).type==0?(a(),l(m,{key:0,name:"pin"})):(a(),l(m,{key:1,name:"pu"})),u(" "+s(n.$t("redPacketSend",{user:e(g)(e(t).creatorAddress)})),1)]),o("div",te,s(e(t).remark),1),e(t).singleAmount!=0?(a(),c("div",se,"+"+s(e(t).singleAmount)+" "+s(e(t).symbol),1)):r("",!0)]),e(t).title?(a(),c("div",{key:0,class:"detail",onClick:C},[u(s(n.$t("seeActivityDetail"))+" ",1),v(S,{name:"arrow"})])):r("",!0)]),o("div",oe,[o("div",ae,s(n.$t("redPacketInfo",{totalCount:e(t).count,totalAmount:e(t).totalAmount,symbol:e(t).symbol,leftCount:e(t).count-e(t).receivedCount})),1),e(t).receiveList.length==0?(a(),l($,{key:0,class:"empty-box"},{image:p(()=>[v(m,{class:"icon",name:"emptyHistory"}),o("div",ne,s(n.$t("noReceiveRecord")),1)]),_:1})):(a(),l(P,{key:1},{default:p(()=>[(a(!0),c(j,null,x(e(t).receiveList,i=>(a(),l(D,{class:"item",key:i},{title:p(()=>[o("div",ce,[v(G,{class:"avatar",address:i.userAddress},null,8,["address"]),o("div",de,[o("div",null,[u(s(e(g)(i.userAddress)),1),i.userAddress==e(k).walletAddress?(a(),c("div",ie,s(n.$t("mine")),1)):r("",!0)]),o("div",re,s(e(f).unix(i.transferTime).format("YYYY-MM-DD HH:mm")),1)])])]),value:p(()=>[o("div",le,[o("div",null,s(i.amount)+" "+s(e(t).symbol),1),i.userAddress==e(t).luckyUserAddress?(a(),c("div",ue,[v(m,{name:"good-fill"}),u(s(n.$t("bestLuck")),1)])):r("",!0)])]),_:2},1024))),128))]),_:1}))]),o("div",_e,[e(t).status!=3?(a(),c("div",me,s(n.$t("receivedRedPacketText",{date:e(f).unix(e(t).sendTime+e(t).endTime).format("YYYY-MM-DD HH:mm:ss")})),1)):r("",!0),e(t).status==3&&!e(t).isReceived?(a(),l(R,{key:1,type:"primary",class:"open",onClick:b},{default:p(()=>[u(s(n.$t("grabNow")),1),e(t).receivedCount>0?(a(),c("span",ve,"("+s(n.$t("over",{count:e(t).count-e(t).receivedCount}))+")",1)):r("",!0)]),_:1})):r("",!0),o("div",pe,[u(s(n.$t("redPacketOrder"))+"\uFF1A"+s(e(t).id)+" ",1),v(m,{class:"copy-icon",name:"copy",onClick:h[0]||(h[0]=i=>e(B)(e(t).id))})])])])}}},Ce=A(ye,[["__scopeId","data-v-4d215cfa"]]);export{Ce as default};
