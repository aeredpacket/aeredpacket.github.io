import{_ as de,r as k,o as u,c as S,w as v,a as n,t as l,b as f,d as j,F as W,e as w,u as d,f as ye,g as s,h as Ie,i as De,B as h,j as Ve,k as Ge,l as r,m as Ne,n as ct,N as ut,p as rt,q as dt,s as mt,v as oe,x as vt,y as Z,z as re,T as _,A as ft,C as D,E as pt,D as ht,G as kt,H as gt,I as yt,J as Le,K as _t,L as wt}from"./index.27a63e40.js";import{_ as b,d as E}from"./dayjs.min.20ff614a.js";const bt={class:"title"},Ct={class:"body"},$t={class:"status-text"},St={key:0},At={key:1},Tt={key:2},Ft={key:3},Pt={class:"status-icon"},Lt={class:"tx"},Bt={key:1,class:"trade-hash"},It={__name:"ChainTrade",props:{tradeVisable:{type:Boolean,default:!1},status:{type:Number,default:0},tradeHash:{type:String,default:""},message:{type:String,default:""}},emits:["update:tradeVisable"],setup(m,{emit:q}){return(o,i)=>{const p=k("van-loading"),V=k("van-icon"),T=k("van-popup");return u(),S(T,{class:"dialog",show:m.tradeVisable,"onUpdate:show":i[1]||(i[1]=$=>De(tradeVisable)?tradeVisable.value=$:null),round:"","close-on-click-overlay":!1},{default:v(()=>[n("div",bt,l(o.$t("transactionDetails")),1),n("div",Ct,[n("div",$t,[m.status!=0?(u(),f(W,{key:0},[m.status==1?(u(),f("div",St,l(o.$t("sendingTransactionToBlockchain")),1)):m.status==2?(u(),f("div",At,l(o.$t("waitingForServiceSyncronizing")),1)):m.status==-1?(u(),f("div",Tt,l(m.message?m.message:o.$t("sendTransactionToBlockchainFailed")),1)):m.status==-2?(u(),f("div",Ft,l(o.$t("servicesyncronizingTimeout")),1)):j("",!0)],64)):j("",!0)]),n("div",Pt,[m.status==1||m.status==2?(u(),S(p,{key:0,type:"spinner",size:"48px"})):m.status==0?(u(),S(V,{key:1,color:"#07c160",size:"40px",name:"checked"})):m.status==-1||m.status==-2?(u(),S(V,{key:2,color:"#FA5151",size:"40px",name:"clear"})):j("",!0)]),m.tradeHash?(u(),f("div",{key:0,class:"trade-hash",onClick:i[0]||(i[0]=$=>d(Ie)(m.tradeHash))},[w(l(o.$t("txHash"))+": ",1),n("span",Lt,l(d(ye)(m.tradeHash)),1),s(b,{name:"copy"})])):(u(),f("div",Bt,l(o.$t("txHash"))+": N/A",1))])]),_:1},8,["show"])}}},Dt=de(It,[["__scopeId","data-v-043773a9"]]);const Vt={class:"confirm-main"},Gt={class:"title"},Nt={class:"content"},Ut={class:"content-item"},xt={class:"item-title"},Et={class:"item-content"},qt={class:"content-item"},zt={class:"item-title"},Ht={class:"item-content"},Wt={class:"content-item"},Rt={class:"item-title"},Mt={class:"item-content"},jt={class:"content-item"},Yt={class:"item-title"},Qt={class:"item-content"},Jt={class:"content-item"},Kt={class:"item-title"},Ot={class:"item-content"},Xt={__name:"CreateConfirm",props:{close:{type:Function,default:()=>{}},visable:{type:Boolean,default:!1},kind:{type:Number,default:0},gas:{type:String,default:""},serviceFee:{type:String,default:""},quantity:{type:Number,default:0},totalAmount:{type:Number,default:0},symbol:{type:String,default:""},tokenIcon:{type:String,default:""},chainCoinSymbol:{type:String,default:""}},emits:["update:visable","confirm"],setup(m,{emit:q}){function o(){q("confirm")}function i(){q("update:visable",!1)}return(p,V)=>{const T=k("van-icon"),$=k("van-button"),F=k("van-popup");return u(),S(F,{show:m.visable,round:"","close-on-click-overlay":!1,closeable:"",onClose:i},{default:v(()=>[n("div",Vt,[n("div",Gt,l(p.$t("redPacketConfirm")),1),n("ul",Nt,[n("li",Ut,[n("div",xt,l(p.$t("redPacketKind")),1),n("div",Et,[m.kind==0?(u(),f(W,{key:0},[s(b,{name:"pin"}),w(" "+l(p.$t("randomAmount")),1)],64)):(u(),f(W,{key:1},[s(b,{name:"pu"}),w(" "+l(p.$t("identicalAmount")),1)],64))])]),n("li",qt,[n("div",zt,l(p.$t("redPacketQuantity")),1),n("div",Ht,l(m.quantity),1)]),n("li",Wt,[n("div",Rt,l(p.$t("tokenQuantity")),1),n("div",Mt,[m.tokenIcon?(u(),S(T,{key:0,class:"chain-icon",name:m.tokenIcon},null,8,["name"])):j("",!0),w(" "+l(m.totalAmount+" "+m.symbol),1)])]),n("li",jt,[n("div",Yt,l(p.$t("estimateGas")),1),n("div",Qt,l(`${d(h)(d(h)(m.gas).toFixed(12)).toString()} ${m.chainCoinSymbol}`),1)]),n("li",Jt,[n("div",Kt,l(p.$t("serviceFee")),1),n("div",Ot,l(`${m.serviceFee} ${m.chainCoinSymbol}`),1)])]),s($,{class:"confirm",onClick:o},{default:v(()=>[w(l(p.$t("confirmAndSubmit")),1)]),_:1})])]),_:1},8,["show"])}}},Zt=de(Xt,[["__scopeId","data-v-18edadb6"]]);const ea={class:"left"},ta={key:0,class:"address"},aa={class:"address-text"},na={key:1,class:"address"},oa={style:{"margin-left":"4px"}},la={class:"dapp-list"},sa=["onClick"],ia={class:"name"},ca={key:0,class:"tips"},ua={__name:"Menu",props:{dappList:{type:Array,default:[]}},setup(m){const q=m,{t:o}=Ve(),i=Ge(),p=r(!1);function V(T){if(!T){ut(o("menuComingSoon"));return}window.open(T)}return(T,$)=>{const F=k("van-popup");return u(),f(W,null,[n("div",{onClick:$[0]||($[0]=C=>p.value=!0)},[s(b,{class:"icon",name:"menu"})]),s(F,{show:p.value,"onUpdate:show":$[1]||($[1]=C=>p.value=C),position:"left",style:{width:"48%",height:"100%"},class:"menu"},{default:v(()=>[n("div",ea,[s(b,{class:"icon",name:"menu"}),d(i).isConnectWallet?(u(),f("div",ta,[s(b,{class:"chain-icon",name:"wallet"}),n("div",aa,l(d(ye)(d(i).walletAddress)),1)])):(u(),f("div",na,[s(b,{name:"wallet"}),n("div",oa,l(d(o)("menuNoConnet")),1)]))]),n("ul",la,[(u(!0),f(W,null,Ne(q.dappList,C=>(u(),f("li",{class:ct(["dapp-list-item",C.selected?"dapp-list-item-selected":""]),onClick:R=>V(C.url)},[s(b,{class:"svg-icon",name:C.iconGrey},null,8,["name"]),n("div",ia,l(d(o)(C.name)),1),C.url?j("",!0):(u(),f("div",ca,l(d(o)("menuComingSoon")),1))],10,sa))),256))])]),_:1},8,["show"])],64)}}},ra=de(ua,[["__scopeId","data-v-dae70c03"]]),Be=[{name:"menuCreateToken",iconBlue:"createTokenBlue",iconGrey:"createTokenGrey",url:"https://avetokencreate.github.io/"},{name:"menuPresell",iconBlue:"presaleBlue",iconGrey:"presaleGrey",url:""},{name:"menuLiquidity",iconBlue:"liquidityBlue",iconGrey:"liquidityGrey",url:"https://m.jfliquidity.xyz/add?utm_source=ave.ai"},{name:"menuLock",iconBlue:"lockBlue",iconGrey:"lockGrey",url:"https://avetokenlock.github.io/"},{name:"menuMultitransfer",iconBlue:"multitransferBlue",iconGrey:"multitransferGrey",url:"https://avemultitransfer.github.io/"},{name:"menuRedPacket",iconBlue:"redPacketBlue",iconGrey:"redPacketGrey",url:"https://aeredpacket.github.io/"},{name:"menuApprove",iconBlue:"approveBlue",iconGrey:"approveGrey",url:"https://aveapprovecheck.github.io/"}];const da=m=>(_t("data-v-414a9d16"),m=m(),wt(),m),ma={class:"body"},va={class:"tools-bar"},fa={class:"left"},pa={class:"address-text"},ha={style:{"margin-left":"4px"}},ka={class:"tools"},ga={class:"token-box"},ya={key:2,class:"amount"},_a={style:{"margin-left":"4px"}},wa=da(()=>n("svg",{class:"icon","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-redPacket"})],-1)),ba={class:"form-item address-ipt"},Ca={class:"title"},$a={class:"index"},Sa={class:"content"},Aa={class:"form-item total-amount"},Ta={class:"form-item create"},Fa={class:"content"},Pa={class:"content"},La={class:"success-icon"},Ba={class:"title"},Ia={class:"text"},Da={class:"btn"},Va={class:"content"},Ga={class:"title"},Na={class:"content"},Ua={__name:"Index",setup(m){const q=rt(),o=Ge(),{t:i}=Ve(),p=dt("global"),V=r(!1),T=r(!1),$=r(!1),F=r(0),C=r(""),R=r(""),z=r(""),le=r(""),Ue=r(""),_e=r(null),Y=r(""),M=r(600);r(0),r(0);const t=mt({kind:0,totalAmount:0,quantity:0,deadline:0,startTime:0,profilePicture:null,title:"",remark:"",tokenChain:"",tokenAddress:"",tokenSymbol:"",tokenIcon:"",chainCoinSymbol:"",whiteList:[],amount:h(0),minFee:h(0),baseFee:h(0),gasPrice:h(0),serviceFee:h(0),lockGasLimit:h(0),showGas:"",lockGasAmount:h(0),showServiceFee:"",allFee:h(0),walletAddress:"",redPacketContractAddress:"",redPacketContract:null}),ee=r(!1);console.log(o.chainId);function me(){return F.value==0?C.value?h(Number(C.value)).toNumber():0:R.value&&z.value?h(Number(R.value)).multipliedBy(Number(z.value)).toNumber():0}const xe=oe(()=>{let e=me();return e||"0.00"}),I=r(!1),G=r(0),Q=r(""),ve=r(""),te=r(!1),se=r(!1),fe=r(""),pe=r(!1),Ee=oe(()=>[{name:i("languages.zh-cn"),value:"zh-cn",color:o.language==="zh-cn"?"#3F80F7":"#323233"},{name:i("languages.en"),value:"en",color:o.language==="en"?"#3F80F7":"#323233"}]);function qe(e){o.setLanguage(e.value)}const ae=r(!1),ne=r(!1),ze=oe(()=>[{text:i("deadlineList.300"),value:300},{text:i("deadlineList.600"),value:600},{text:i("deadlineList.1800"),value:1800},{text:i("deadlineList.3600"),value:3600},{text:i("deadlineList.43200"),value:43200},{text:i("deadlineList.86400"),value:86400},{text:i("deadlineList.172800"),value:172800},{text:i("deadlineList.259200"),value:259200}]),he=oe(()=>i("deadlineList."+M.value));function He(e){M.value=e.value,ne.value=!1}async function we(){await o.connectWallet()}function be(){return p.cfg.allowChainList.map(a=>a.chainId).includes(o.chainId)?!0:(pe.value=!0,!1)}async function We(){I.value=!1,Q.value="",G.value=1,I.value=!0;try{let e=await Z.wallet.approveMaxAmount(o.token.address,o.redPacketContractAddress);console.log(e),Q.value=e.hash,await e.wait(),$.value=!1,G.value=0}catch(e){console.log(e),G.value=-1,await re(2e3)}finally{I.value=!1}}async function Ce(){await Z.wallet.isAllowanceEnough(o.redPacketContractAddress,o.token.address,o.walletAddress)?$.value=!1:$.value=!0}async function Re(){te.value=!0,I.value=!1,Q.value="",se.value=!1,fe.value="",ee.value=!1;try{if(!o.token){_.fail(i("pleaseSelectToken"));return}if(F.value==0){if(!C.value){_.fail(i("pleaseEnterTotalAmount"));return}if(1e-6*Number(z.value)>Number(C.value)){_.fail(i("pleaseEnsure"));return}}else if(!R.value){_.fail(i("pleaseEnterSingleAmount"));return}if(!z.value){_.fail(i("pleaseEnterQuantity"));return}if(K.value){if(N.value<=new Date){_.fail(i("lessThanCurrent"));return}if(N.value>E().add(M.value,"second").toDate()){_.fail(i("greaterThanDeadline"));return}}let e=me();if(Y.value||(Y.value=i("bestWishes")),await o.connectWallet(),!be())return;let g=p.cfg.allowChainList.find(y=>y.chain==o.token.chain);if(!g){_.fail(i("tokenChainNotSupport"));return}if(o.chainId!=g.chainId){_.fail(i("switchTokenChain"));return}if(e>o.token.amount){_.fail(i("balanceSlow"));return}if(await Ce(),$.value){_.fail(i("approveFirst"));return}await Me()}catch(e){console.dir(e)}finally{te.value=!1}}async function Me(){console.log("createRedPacket"),t.kind=F.value,t.totalAmount=me(),t.quantity=Number(z.value),t.deadline=M.value,t.startTime=K.value?E(N.value).unix():0,t.profilePicture=_e.value,t.title=le.value,t.remark=Y.value,t.tokenChain=o.token.chain,t.tokenAddress=o.token.address,t.tokenSymbol=o.token.symbol,t.chainCoinSymbol=o.token.chainCoinSymbol,t.tokenIcon=o.token.icon,t.amount=h(0),t.minFee=h(0),t.baseFee=h(0),t.gasPrice=h(0),t.serviceFee=h(0),t.showGas="",t.showServiceFee="",t.lockGasLimit=h(0),t.lockGasAmount=h(0),t.allFee=h(0),t.walletAddress=o.walletAddress,t.redPacketContractAddress=o.redPacketContractAddress,t.redPacketContract=null,t.whiteList=J.value;const e=Z.wallet.getEthersProvider(),a=Z.wallet.contractByProvider(e,t.redPacketContractAddress,ft);t.redPacketContract=a;const g=await a.minFee();console.log("minFee"),console.log(D(g)),t.minFee=g;const y=await a.baseFee();console.log("baseFee"),console.log(D(y)),t.baseFee=y;const P=await Z.wallet.contractByProvider(e,t.tokenAddress,pt).decimals();console.log("decimals"),console.log(P),t.amount=ht(t.totalAmount.toString(),P),console.log(D(t.amount));let O=[],A=[],L=0;for(let B=0;B<t.quantity;B++)O.push("0x60f5D34F9D419fC274C84d477Ea2E6051bA7cd16"),t.kind==0&&A.push(t.amount.div(t.quantity).toString());t.kind==1&&(L=t.amount.div(t.quantity).toString());const ce=await a.estimateGas.estimateUnlock(0,O,A,L,t.tokenAddress,t.amount.toString(),t.kind);console.log("estimateUnlockGas"),console.log(D(ce));const X=await e.getGasPrice();console.log("gasPrice"),console.log(D(X));const ue=ce.mul(X),U=ue.mul(2).add(y).gt(g)?ue.mul(2).add(y):g;t.showServiceFee=D(U).toString(),console.log("serviceFee"),console.log(D(U)),t.serviceFee=U;let x;try{x=(await a.estimateGas.lock(t.walletAddress,t.tokenAddress,t.amount.toString(),t.deadline,t.quantity,t.kind,{value:U.toString()})).mul(2)}catch(B){if(B.data&&B.data.code==-32e3){const c=B.data.message.match(/(\d+) want (\d+)/)[2];_.fail(i("balanceSlow2",{chainMianCoin:o.token.chainCoinSymbol,amount:D(c)}))}else B.code==="INSUFFICIENT_FUNDS"?_.fail(i("balanceSlow")):_.fail(i("unknowError"));throw console.dir(B),B}console.log("gasLimit"),console.log(D(x)),t.gasLimit=x,t.showGas=D(x.mul(X)).toString(),ee.value=!0}async function je(){ee.value=!1,G.value=1,I.value=!0;let e;if(t.startTime){if(t.startTime<=E().unix()){_.fail(i("lessThanCurrent"));return}if(t.startTime>E().add(t.deadline,"second").unix()){_.fail(i("greaterThanDeadline"));return}}try{let a=await t.redPacketContract.lock(t.walletAddress,t.tokenAddress,t.amount.toString(),t.deadline,t.quantity,t.kind,{value:t.serviceFee.toString(),gasLimit:t.gasLimit.toString()});console.dir(a),Q.value=a.hash,e=await a.wait(),console.dir(e),Q.value=e.transactionHash}catch(a){console.dir(a),a.code=="ACTION_REJECTED"&&(ve.value=i("actionRejected")),G.value=-1,await re(1e3),I.value=!1,ve.value="",te.value=!1;return}G.value=2;try{let a=e==null?void 0:e.events,g={};for(let P=a.length-1;P>=0;P--){let O=a[P].topics.some(A=>A==="0x694af1cc8727cdd0afbdd53d9b87b69248bd490224e9dd090e788546506e076f");if(a[P].address==o.redPacketContractAddress&&O){g=a[P];break}}let y=await Z.redPacket.send(t.tokenAddress,t.tokenChain,g.topics[1],e.transactionHash,t.deadline,t.startTime,t.profilePicture,t.remark,t.tokenSymbol,t.title,t.whiteList);console.dir(y),G.value=0,await re(500),I.value=!1;const H=y.data.uuid;se.value=!0,fe.value=window.location.origin+"/#/redpacket/"+H}catch(a){console.dir(a),G.value=-1,await re(1e3),I.value=!1,te.value=!1}}function Ye(){F.value=0,C.value="",R.value="",z.value="",le.value="",Ue.value="",_e.value=null,Y.value="",M.value=600,o.token=null}const $e=p.cfg.allowChainList.map(e=>e.chainShow);function Se(e){const a=p.cfg.allowChainList.find(y=>y.chainId==e);let g;return a?g=a.chain:g=null,g}function Qe(){q.push("/selectToken")}function Ae(e){return console.log(e),e&&e.replace("-","").replace(/^(.*\..{6}).*$/,"$1")}function Je(){kt.confirm({title:i("tips"),message:i("disonnectWallet"),confirmButtonText:i("confirm"),cancelButtonText:i("cancel")}).then(()=>{o.disconnectWallet()}).catch(()=>{})}function Ke(e){return e&&(Number(e)>=1e3?"1000":e)}Be.forEach(e=>e.selected=e.name=="menuRedPacket");const Oe=r(Be);vt(()=>{console.log("onMounted"),o.chainId>0&&(be(),o.isConnectWallet&&o.token&&Ce())});const ke=r(!1),ie=r(""),J=r([]);function Xe(e){console.log("onPasteCapture"),e.target.value=e.target.value+e.clipboardData.getData("text"),e.target.blur()}function Ze(e){console.log("onBlurCapture"),console.log(e.target.value),tt(e.target.value),ge.value=!1}const ge=r(!1),Te=r(null);function et(){ge.value=!0,gt(()=>{Te.value.focus()})}function tt(e){const a=/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/;let g=e.replace(/\s+/ig," ").trim();if(g){let y=g.split(" ");if(y.length>500){_.fail(i("supportMax"));return}for(let H=0;H<y.length;H++)if(!a.test(y[H])){_.fail(i("pleaseEnterRightFormat"));return}J.value=Array.from(new Set(y)),ie.value=J.value.join(" ")}else J.value=[],ie.value=""}function at(){J.value=[],ie.value=""}const K=r(!1),N=r(new Date),Fe=r(N.value),Pe=r(E(N.value).add(M.value,"second").toDate()),nt=oe(()=>K.value?E(N.value).format("YYYY-MM-DD HH:mm"):i("settingTime"));function ot(){const e=new Date;K.value==!1&&(N.value=E(e).add(1,"minute").toDate()),Fe.value=E(e).add(1,"minute").toDate(),Pe.value=E(e).add(M.value,"second").toDate(),ae.value=!0}function lt(e){K.value=!0,N.value=e,ae.value=!1}function st(){K.value=!1,ae.value=!1}return(e,a)=>{const g=k("van-icon"),y=k("van-radio"),H=k("van-radio-group"),P=k("van-image"),O=k("van-cell"),A=k("van-cell-group"),L=k("van-field"),ce=k("van-picker"),X=k("van-popup"),ue=k("van-datetime-picker"),U=k("van-button"),x=k("van-dialog"),B=k("van-action-sheet");return u(),f(W,null,[n("div",ma,[n("div",va,[n("div",fa,[s(ra,{"dapp-list":Oe.value},null,8,["dapp-list"]),d(o).isConnectWallet?(u(),f("div",{key:0,class:"address",onClick:Je},[Se(d(o).chainId)?(u(),S(g,{key:0,class:"chain-icon",name:d(yt)(Se(d(o).chainId))},null,8,["name"])):(u(),S(b,{key:1,class:"chain-icon",name:"wallet"})),n("div",pa,l(d(ye)(d(o).walletAddress)),1)])):(u(),f("div",{key:1,class:"address",onClick:we},[s(b,{name:"wallet"}),n("div",ha,l(e.$t("pleaseConnectWallet")),1)]))]),n("div",ka,[s(b,{name:"language",onClick:a[0]||(a[0]=c=>T.value=!0)}),s(b,{name:"help",onClick:a[1]||(a[1]=c=>V.value=!0)})])]),s(H,{modelValue:F.value,"onUpdate:modelValue":a[2]||(a[2]=c=>F.value=c),direction:"horizontal",class:"type form-item"},{default:v(()=>[s(y,{name:0,"checked-color":"#ED4A4A","icon-size":"16px"},{default:v(()=>[w(l(e.$t("randomAmount")),1)]),_:1}),s(y,{name:1,"checked-color":"#ED4A4A","icon-size":"16px"},{default:v(()=>[w(l(e.$t("identicalAmount")),1)]),_:1})]),_:1},8,["modelValue"]),s(A,{inset:"",class:"form-item form-normal"},{default:v(()=>[s(O,{title:e.$t("token"),"is-link":"",onClick:Qe},Le({_:2},[d(o).token?{name:"value",fn:v(()=>[n("div",ga,[d(o).token.icon?(u(),S(P,{key:0,class:"token-icon",round:"",src:d(o).token.icon,"error-icon":"/assets/images/default.png"},null,8,["src"])):j("",!0),w(" "+l(d(o).token.symbol),1)])]),key:"0"}:void 0]),1032,["title"])]),_:1}),F.value==0?(u(),S(A,{key:0,inset:"",class:"form-item form-normal"},{default:v(()=>[s(L,{label:e.$t("totalAmount"),"input-align":"right",formatter:Ae,maxlength:"10",placeholder:e.$t("enterAmount"),type:"number",modelValue:C.value,"onUpdate:modelValue":a[3]||(a[3]=c=>C.value=c)},{"left-icon":v(()=>[s(b,{name:"pin"})]),_:1},8,["label","placeholder","modelValue"])]),_:1})):(u(),S(A,{key:1,inset:"",class:"form-item form-normal"},{default:v(()=>[s(L,{label:e.$t("singleAmount"),"label-width":"7em","input-align":"right",formatter:Ae,maxlength:"10",placeholder:e.$t("enterAmount"),type:"number",modelValue:R.value,"onUpdate:modelValue":a[4]||(a[4]=c=>R.value=c)},{"left-icon":v(()=>[s(b,{name:"pu"})]),_:1},8,["label","placeholder","modelValue"])]),_:1})),d(o).token?(u(),f("div",ya,[w(l(e.$t("availableBalance")),1),n("span",_a,l(d(o).token.amount+" "+d(o).token.symbol),1)])):j("",!0),s(A,{inset:"",class:"form-item form-normal"},{default:v(()=>[s(L,{label:e.$t("quantity"),"input-align":"right",placeholder:e.$t("enterNumber"),type:"digit",maxlength:"4",formatter:Ke,modelValue:z.value,"onUpdate:modelValue":a[5]||(a[5]=c=>z.value=c)},Le({"left-icon":v(()=>[wa]),_:2},[d(o).language=="zh-cn"?{name:"right-icon",fn:v(()=>[w("\u4E2A")]),key:"0"}:void 0]),1032,["label","placeholder","modelValue"])]),_:1}),s(A,{inset:"",class:"form-item form-normal"},{default:v(()=>[s(L,{modelValue:d(he),"onUpdate:modelValue":a[6]||(a[6]=c=>De(he)?he.value=c:null),"is-link":"",readonly:"",name:"picker",label:e.$t("deadline"),onClick:a[7]||(a[7]=c=>ne.value=!0),"input-align":"right"},null,8,["modelValue","label"]),s(X,{show:ne.value,"onUpdate:show":a[9]||(a[9]=c=>ne.value=c),position:"bottom"},{default:v(()=>[s(ce,{columns:d(ze),onCancel:a[8]||(a[8]=c=>ne.value=!1),onConfirm:He,title:e.$t("settingDeadline"),"confirm-button-text":e.$t("confirm"),"cancel-button-text":e.$t("cancel")},null,8,["columns","title","confirm-button-text","cancel-button-text"])]),_:1},8,["show"])]),_:1}),s(A,{inset:"",class:"form-item form-normal"},{default:v(()=>[s(L,{"model-value":d(nt),"is-link":"",readonly:"",name:"picker","label-width":"10em",label:e.$t("startTime"),onClick:ot,"input-align":"right"},null,8,["model-value","label"]),s(X,{show:ae.value,"onUpdate:show":a[10]||(a[10]=c=>ae.value=c),position:"bottom"},{default:v(()=>[s(ue,{"model-value":N.value,type:"datetime",title:e.$t("settingTime"),"min-date":Fe.value,"max-date":Pe.value,"confirm-button-text":e.$t("setting"),"cancel-button-text":e.$t("noSetting"),onCancel:st,onConfirm:lt},null,8,["model-value","title","min-date","max-date","confirm-button-text","cancel-button-text"])]),_:1},8,["show"])]),_:1}),n("div",ba,[n("div",Ca,[n("div",null,[w(l(e.$t("settingWhiteList"))+" ",1),s(b,{name:"info",onClick:a[11]||(a[11]=c=>ke.value=!0)})]),n("div",{class:"title-right",onClick:at},[n("div",null,[s(b,{name:"clear"}),w(" "+l(e.$t("clear")),1)])])]),ge.value?(u(),S(L,{key:0,class:"ipt","model-value":ie.value,onPasteCapture:Xe,type:"textarea",onBlurCapture:Ze,ref_key:"ipt",ref:Te},null,8,["model-value"])):(u(),f("ul",{key:1,class:"table",onClick:et},[(u(!0),f(W,null,Ne(J.value,(c,it)=>(u(),f("li",null,[n("div",$a,l(it+1),1),n("div",Sa,l(c),1)]))),256))]))]),s(A,{inset:"",class:"form-item"},{default:v(()=>[s(L,{modelValue:Y.value,"onUpdate:modelValue":a[12]||(a[12]=c=>Y.value=c),rows:"1",autosize:"",type:"textarea",maxlength:"20",placeholder:e.$t("bestWishes"),"show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1}),s(A,{inset:"",class:"form-item"},{default:v(()=>[s(L,{modelValue:le.value,"onUpdate:modelValue":a[13]||(a[13]=c=>le.value=c),rows:"2",autosize:"",type:"textarea",maxlength:"500",placeholder:e.$t("ActivityDescription")},null,8,["modelValue","placeholder"])]),_:1}),n("div",Aa,[w(l(e.$t("redPacketTotalAmount")),1),n("span",null,l(d(xe)),1),w(l(d(o).token?d(o).token.symbol:""),1)]),n("div",Ta,[d(o).isConnectWallet?(u(),f(W,{key:0},[$.value?(u(),S(U,{key:0,class:"create-btn",type:"danger",onClick:We},{default:v(()=>[w(l(e.$t("approve")),1)]),_:1})):(u(),S(U,{key:1,class:"create-btn",type:"danger",onClick:Re,loading:te.value},{default:v(()=>[w(l(e.$t("createRedPacketBtn")),1)]),_:1},8,["loading"]))],64)):(u(),S(U,{key:1,class:"create-btn",type:"primary",onClick:we},{default:v(()=>[w(l(e.$t("connectWallet")),1)]),_:1}))]),n("div",{class:"form-item history",onClick:a[14]||(a[14]=c=>d(q).push("/history"))},l(e.$t("redPacketHistory")),1)]),s(x,{class:"help-dialog",show:V.value,"onUpdate:show":a[15]||(a[15]=c=>V.value=c),title:e.$t("rulesDescription"),"confirm-button-text":e.$t("understand"),"close-on-click-overlay":""},{default:v(()=>[n("div",Fa,[n("div",null,l(e.$t("rulesDescription1")),1),n("div",null,l(e.$t("rulesDescription2")),1),n("div",null,l(e.$t("rulesDescription3")),1),n("div",null,l(e.$t("rulesDescription4")),1),n("div",null,l(e.$t("rulesDescription5",{chains:d($e).join("/")})),1),n("div",null,l(e.$t("rulesDescription6")),1)])]),_:1},8,["show","title","confirm-button-text"]),s(x,{class:"create-success-dialog",show:se.value,"onUpdate:show":a[17]||(a[17]=c=>se.value=c),onClose:Ye,"close-on-click-overlay":""},{footer:v(()=>[n("div",Da,[s(U,{class:"copy-btn",type:"primary",onClick:a[16]||(a[16]=c=>d(Ie)(fe.value))},{default:v(()=>[w(l(e.$t("copyLink")),1)]),_:1})])]),default:v(()=>[n("div",Pa,[n("div",La,[s(b,{name:"createSuccess"})]),n("div",Ba,l(e.$t("createRedPacketSuccess")),1),n("div",Ia,l(e.$t("shareLink")),1)])]),_:1},8,["show"]),s(B,{show:T.value,"onUpdate:show":a[18]||(a[18]=c=>T.value=c),title:e.$t("switchLang"),actions:d(Ee),closeable:!1,"cancel-text":e.$t("cancel"),"close-on-click-action":"",onSelect:qe},null,8,["show","title","actions","cancel-text"]),s(Dt,{tradeVisable:I.value,"onUpdate:tradeVisable":a[19]||(a[19]=c=>I.value=c),status:G.value,tradeHash:Q.value,message:ve.value},null,8,["tradeVisable","status","tradeHash","message"]),s(x,{class:"chain-err-dialog",confirmButtonText:e.$t("understand"),confirmButtonColor:"#3F80F7",show:pe.value,"onUpdate:show":a[20]||(a[20]=c=>pe.value=c)},{default:v(()=>[n("div",Va,[n("div",null,l(e.$t("notSupportedChain")),1),n("div",null,l(e.$t("pleaseSwitchTo",{chains:d($e).join("\u3001")})),1)])]),_:1},8,["confirmButtonText","show"]),s(x,{class:"copy-address-dialog",confirmButtonText:e.$t("understand"),confirmButtonColor:"#3F80F7",show:ke.value,"onUpdate:show":a[21]||(a[21]=c=>ke.value=c)},{default:v(()=>[n("div",Ga,l(e.$t("copyAddress")),1),n("div",Na,[n("div",null,l(e.$t("copyAddressTips")),1)])]),_:1},8,["confirmButtonText","show"]),s(Zt,{visable:ee.value,"onUpdate:visable":a[22]||(a[22]=c=>ee.value=c),kind:t.kind,quantity:t.quantity,totalAmount:t.totalAmount,symbol:t.tokenSymbol,tokenIcon:t.tokenIcon,gas:t.showGas,serviceFee:t.showServiceFee,chainCoinSymbol:t.chainCoinSymbol,onConfirm:je},null,8,["visable","kind","quantity","totalAmount","symbol","tokenIcon","gas","serviceFee","chainCoinSymbol"])],64)}}},qa=de(Ua,[["__scopeId","data-v-414a9d16"]]);export{qa as default};
